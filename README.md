# 洗碗风波 - 互动故事游戏

这是一个基于HTML、CSS和JavaScript的互动故事游戏，讲述了一个关于工作与家庭平衡的故事。

## 游戏特点

- 🎬 **精美开场** - 专业的title界面，带有游戏标题和加载动画
- ⚡ **智能预加载** - 在title界面预加载所有图片资源，确保游戏流畅
- 📱 **移动端友好** - 支持9:16屏幕比例，动态适配不同屏幕尺寸
- 🎨 **精美界面** - 每个场景都有对应的背景图片
- 🎭 **多重结局** - 根据你的选择可以体验3种不同的结局
- 🎮 **简单操作** - 点击选择即可推进故事情节

## 如何运行

1. **本地运行**
   ```bash
   # 进入项目目录
   cd proj18_dishbattle
   
   # 启动HTTP服务器
   python3 -m http.server 8000
   ```

2. **在浏览器中打开**
   - 打开浏览器访问 `http://localhost:8000`
   - 推荐使用移动端浏览器或开发者工具的移动端模拟

## 游戏说明

### 🎬 开始游戏
- 🎭 **title界面**：游戏启动后首先显示精美的title界面
- ⚡ **资源加载**：自动预加载所有图片资源，显示加载进度
- 🎮 **开始游戏**：加载完成后点击"开始游戏"按钮进入故事

### 📖 游戏体验
- 📖 **个人节奏阅读**：点击屏幕下半部分显示下一行文字，按照自己的节奏阅读
- 🖱️ **点击继续**：屏幕下半部分显示"点击继续"按钮，操作区域更大更便于点击
- 📱 **自动滚动**：当文字超出显示区域时会自动滚动，确保最佳阅读体验
- 🎯 **选择系统**：等待文字显示完毕后选择按钮会以动画形式出现
- 🎮 **多重结局**：每个选择都会影响故事的发展方向，共有3个不同的结局
- ⌨️ **快捷键**：支持键盘快捷键 `R` 重新开始游戏（返回title界面）

## 使用技巧

### 📖 阅读体验优化
- 文字按行逐个显示，需要点击屏幕下半部分才会显示下一行
- 屏幕下半部分会显示"点击继续"按钮，操作区域大，便于点击
- 当文字内容较长时，会自动滚动到合适位置
- 无时间压力，可以按照自己的节奏慢慢阅读
- **智能布局**：根据设备屏幕比例自动调整文字和按钮区域大小，确保最佳阅读体验

### 🎮 游戏操作
- 等待文字显示完毕后，选择按钮会以动画形式出现
- 每个选择都会影响后续故事发展
- 使用键盘 `R` 键可以快速重新开始游戏

### 📱 移动端体验
- 针对移动设备优化了界面布局
- 支持触摸操作，点击屏幕下半部分继续阅读，操作区域大，避免误触
- 自动适配不同屏幕尺寸
- **智能屏幕适配**：根据屏幕宽高比动态调整文字和按钮区域大小
- **安全区域适配**：选项按钮自动避开浏览器地址栏，确保正常点击
- **动态视口高度**：使用最新的CSS特性适配移动端浏览器UI变化
- **触摸友好**：按钮高度符合iOS人机界面指南，便于点击

### 🔧 智能适配系统

游戏会自动检测设备屏幕的宽高比，并根据不同比例调整布局：

- **超长屏幕** (21:9+)：文字区域60vh，适合折叠屏等超长屏设备
- **长屏幕** (18:9-20:9)：文字区域52-58vh，适合大部分现代手机
- **标准屏幕** (16:9)：文字区域48vh，适合平板和旧款手机
- **宽屏/横屏**：文字区域45vh，适合横屏模式
- **小屏幕设备**：文字区域42vh，针对小屏手机特别优化

系统还会响应屏幕方向变化和窗口大小调整，实时重新计算最佳布局。

> 💡 **调试提示**：打开浏览器开发者工具控制台，可以看到当前屏幕的适配信息。

## 文件结构

```
proj18_dishbattle/
├── index.html          # 游戏主页面
├── style.css           # 游戏样式
├── script.js           # 游戏逻辑
├── story_simplified.txt # 原始故事文本
├── img/                # 背景图片文件夹
│   ├── 0_Title.png         # title界面背景
│   ├── 1_After_dinner.png
│   ├── 2_Wife_unhappy.png
│   ├── 3_Play_foolish.png
│   ├── 4_Sweet_words.png
│   ├── 5_Apology.png
│   ├── 6_Wife_angry.png
│   ├── 7_Close_door.png
│   ├── 8_Working.png
│   ├── 9_Washdish.png
│   ├── End1_Fired.png
│   ├── End2_Quit.png
│   └── End3_Divorce.png
└── README.md           # 说明文件
```

## 技术特点

- **专业游戏界面** - 精美的title界面，带有游戏标题和加载动画
- **智能资源管理** - 预加载所有图片资源，显示加载进度，确保游戏流畅
- **界面切换系统** - 平滑的界面切换动画，提供专业的用户体验
- **响应式设计** - 适配不同尺寸的设备
- **手动阅读控制** - 用户点击控制文字显示节奏，无时间压力
- **智能滚动** - 自动检测并滚动到合适位置
- **动画时序控制** - 文字显示完毕后才出现选择按钮
- **交互优化** - 支持点击继续阅读，提升用户体验
- **流畅动画** - 文本和按钮的渐入效果
- **智能屏幕适配系统** - JavaScript动态检测屏幕宽高比，自动调整布局参数
- **移动端深度适配** - 使用CSS环境变量和动态视口高度适配各种移动端浏览器
- **安全区域兼容** - 自动避开刘海屏、地址栏等浏览器UI元素
- **无选中干扰** - 屏蔽文本选择效果，提供纯净的游戏体验
- **错误处理** - 完善的错误处理机制

## 浏览器支持

- Chrome (推荐)
- Firefox
- Safari
- Edge

---

享受这个关于选择与后果的互动故事吧！ 🎮 